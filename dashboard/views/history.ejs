<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Historique des Embeds - Coffey.ai</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white min-h-screen flex flex-col items-center p-8">

    <h1 class="text-4xl font-bold mb-6">üìù Historique des Embeds</h1>

    <%
    function formatDate(isoDate) {
        const date = new Date(isoDate);
        const day = String(date.getDate()).padStart(2, '0');
        const month = String(date.getMonth() + 1).padStart(2, '0');
        const year = date.getFullYear();
        const hours = String(date.getHours()).padStart(2, '0');
        const minutes = String(date.getMinutes()).padStart(2, '0');
        return `${day}/${month}/${year} √† ${hours}:${minutes}`;
    }
    %>

    <div class="w-full max-w-4xl">
        <table class="table-auto w-full text-left border-collapse">
            <thead>
                <tr class="bg-gray-700">
                    <th class="p-2 border">#</th>
                    <th class="p-2 border">Salon</th>
                    <th class="p-2 border">Titre</th>
                    <th class="p-2 border">Description</th>
                    <th class="p-2 border">Date</th>
                </tr>
            </thead>
            <tbody>
                <% embeds.forEach(embed => { %>
                    <tr class="bg-gray-800 border-b">
                        <td class="p-2 border"><%= embed.id %></td>
                        <td class="p-2 border"><%= embed.channelName %></td>
                        <td class="p-2 border"><%= embed.title %></td>
                        <td class="p-2 border"><%= embed.description %></td>
                        <td class="p-2 border"><%= formatDate(embed.date) %></td>
                    </tr>
                <% }) %>
            </tbody>
        </table>
    </div>

    <a href="/" class="bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded mt-4 inline-block">
        Retour au Dashboard
    </a>
</body>
</html>
